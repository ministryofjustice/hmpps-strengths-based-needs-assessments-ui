{% extends "../summary.njk" %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "components/question/macro.njk" import renderQuestion %}

{% block summaryPanel %}
{% endblock %}

{% block analysisPanel %}
  {% for field in (form.fields | removeSectionCompleteFields) %}
    {{ renderQuestion(options.fields[field], errors) }}
  {% endfor %}

  <div class="questiongroup-action-buttons">
    {{ govukButton({
      text: buttonText | default("Mark as complete"),
      classes: "govuk-!-margin-bottom-3 govuk-!-margin-right-1"
    }) }}

    {% set saveDraftAction = action + "?action=saveDraft" %}
    {{ govukButton({
      text: "Save as draft",
      classes: 'govuk-!-margin-bottom-3 govuk-!-margin-right-1 govuk-button--secondary',
      attributes: {
        "formaction": saveDraftAction
      }
    }) }}
  </div>
{% endblock %}
