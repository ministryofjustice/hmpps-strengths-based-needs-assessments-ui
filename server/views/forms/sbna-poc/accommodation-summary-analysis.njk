{% extends "../layout.njk" %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "components/question/macro.njk" import renderQuestion %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/tabs/macro.njk" import govukTabs %}

{% block formContent %}
<form method="post" action="{{ action }}">
    <input type="hidden" name="x-csrf-token" value="{{ getCsrf() }}">

{% set accommodationSummaryHtml %}
{{ govukSummaryList({
  rows: [
    {
      key: {
        text: "add text"
      },
      value: {
        text: "add text"
      },
      actions: {
        items: [
          {
            href: "#",
            text: "Change",
            visuallyHiddenText: "name"
          }
        ]
      }
    },
    {
      key: {
        text: "add text"
      },
      value: {
        text: "add text"
      },
      actions: {
        items: [
          {
            href: "#",
            text: "Change",
            visuallyHiddenText: "date of birth"
          }
        ]
      }
    },
    {
      key: {
        text: "add text"
      },
      value: {
        html: "add text"
      },
      actions: {
        items: [
          {
            href: "#",
            text: "Change",
            visuallyHiddenText: "address"
          }
        ]
      }
    },
    {
      key: {
        text: "add text"
      },
      value: {
        html: '<p class="govuk-body">07700 900457</p><p class="govuk-body">sarah.phillips@example.com</p>'
      },
      actions: {
        items: [
          {
            href: "#",
            text: "Change",
            visuallyHiddenText: "contact details"
          }
        ]
      }
    }
  ]
}) }}
{% endset -%}

{% set practitionerAnalysisHtml %}
{{ renderQuestion(options.fields['accommodation_practitioner_analysis'], errors) }}    
{{ renderQuestion(options.fields['accommodation_serious_harm'], errors) }}
{{ renderQuestion(options.fields['accommodation_risk_of_reoffending'], errors) }}
{% endset -%}

{{ govukTabs({
  items: [
    {
      label: "Accommodation summary",
      id: "accommodation-summary",
      panel: {
        html: accommodationSummaryHtml
      }
    },
    {
      label: "Practitioner analysis",
      id: "practitioner-analysis",
      panel: {
        html: practitionerAnalysisHtml
      }
    }
  ]
}) }}
    <div class="questiongroup-action-buttons">
        {{ govukButton({
            text: buttonText | default('Mark as complete'),
            classes: 'govuk-!-margin-bottom-3 govuk-!-margin-right-1'
        }) }}
    </div>
</form>
{% endblock %}